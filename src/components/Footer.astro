---
// src/components/Footer.astro
const base = import.meta.env.BASE_URL;
---
<footer class="bg-off-black text-white">
  <div class="mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8 lg:py-16">
    <div class="xl:grid xl:grid-cols-3 xl:gap-8">
      <div class="space-y-8 xl:col-span-1">
        <a href={base} class="flex items-center gap-3">
          <img src={`${base}logo.svg`} alt="The Latina Sweat Project Logo" class="h-10 w-10">
          <span class="font-sans text-xl font-bold text-white">The Latina Sweat Project</span>
        </a>
        <p class="font-body text-base text-slate-400">
          Empowering through movement, community, and culture.
        </p>
        <div class="flex space-x-6">
          <a href="https://www.instagram.com/latinasweatproject/" class="link-underline text-slate-400">
            <span class="sr-only">Instagram</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 012.792 2.792c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-2.792 2.792c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-2.792-2.792c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 012.792-2.792c.636.247 1.363.416 2.427.465C9.53 2.013 9.884 2 12.315 2zM12 7a5 5 0 100 10 5 5 0 000-10zm0 8a3 3 0 110-6 3 3 0 010 6zm6.406-11.845a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z" clip-rule="evenodd" />
            </svg>
          </a>
        </div>
      </div>
      <div class="mt-12 grid grid-cols-1 gap-8 lg:grid-cols-2 xl:col-span-2 xl:mt-0">
        <div class="md:grid md:grid-cols-2 md:gap-8">
          <div>
            <h3 class="font-sans text-sm font-semibold uppercase tracking-wider text-slate-300">Navigation</h3>
            <ul class="mt-4 space-y-4 font-body" role="list">
              <li><a class="link-underline text-base text-slate-400" href={`${base}about`}>About Us</a></li>
              <li><a class="link-underline text-base text-slate-400" href={`${base}classes`}>Classes</a></li>
              <!--<li><a class="link-underline text-base text-slate-400" href={`${base}events`}>Events</a></li>-->
              <li><a class="link-underline text-base text-slate-400" href={`${base}contact`}>Contact</a></li>
            </ul>
          </div>
          <div class="mt-12 md:mt-0">
            <h3 class="font-sans text-sm font-semibold uppercase tracking-wider text-slate-300">Legal</h3>
            <ul class="mt-4 space-y-4 font-body" role="list">
              <li><a class="link-underline text-base text-slate-400" href="#">Privacy Policy</a></li>
              <li><a class="link-underline text-base text-slate-400" href="#">Terms of Service</a></li>
            </ul>
          </div>
        </div>
        <div class="md:grid md:grid-cols-1 md:gap-8">
          <div>
            <h3 class="font-sans text-sm font-semibold uppercase tracking-wider text-slate-300">Subscribe to our newsletter</h3>
            <p class="mt-4 font-body text-base text-slate-400">The latest news, articles, and resources, sent to your inbox weekly.</p>
            <form method="post" action="https://api.prd.xplorcs.com/forms-v2/forms/answers" onsubmit="onXplFormSubmit(event)" name="6f1884c5-b7dd-40c6-ad8e-623af0f3a140" id="bb_form" class="mt-3 space-y-4">
              <div id="alert"></div>
              <input type="hidden" name="uuid" id="bb_uuid" value="6f1884c5-b7dd-40c6-ad8e-623af0f3a140">
              
              <div class="flex flex-col gap-4 sm:flex-row">
                <div class="w-full">
                  <label for="bb_first_name" class="sr-only">First Name</label>
                  <input type="text" name="first_name" id="bb_first_name" placeholder="First Name" required class="w-full min-w-0 appearance-none rounded-md border border-transparent bg-slate-800 px-4 py-2 font-body text-base text-white placeholder-slate-500 focus:border-vibrant-pink focus:outline-none focus:ring-1 focus:ring-vibrant-pink">
                </div>
                <div class="w-full">
                  <label for="bb_last_name" class="sr-only">Last Name</label>
                  <input type="text" name="last_name" id="bb_last_name" placeholder="Last Name" required class="w-full min-w-0 appearance-none rounded-md border border-transparent bg-slate-800 px-4 py-2 font-body text-base text-white placeholder-slate-500 focus:border-vibrant-pink focus:outline-none focus:ring-1 focus:ring-vibrant-pink">
                </div>
              </div>

              <div>
                <label for="bb_email" class="sr-only">Email Address</label>
                <input type="email" name="email" id="bb_email" placeholder="Email Address" required class="w-full min-w-0 appearance-none rounded-md border border-transparent bg-slate-800 px-4 py-2 font-body text-base text-white placeholder-slate-500 focus:border-vibrant-pink focus:outline-none focus:ring-1 focus:ring-vibrant-pink">
              </div>

              <div class="flex items-start">
                <div class="flex h-5 items-center">
                  <input id="bb_opt_in_email" name="opt_in_email" type="checkbox" value="By selecting this option, you agree to receive marketing communications via email" class="h-4 w-4 rounded border-slate-600 bg-slate-800 text-vibrant-pink focus:ring-vibrant-pink">
                </div>
                <div class="ml-3 text-sm">
                  <label for="bb_opt_in_email" class="font-body text-slate-400">By selecting this option, you agree to receive marketing communications via email</label>
                </div>
              </div>

              <div>
                <button type="submit" id="bb_submit" class="btn flex w-full items-center justify-center rounded-full bg-vibrant-pink px-4 py-2 font-sans text-base font-semibold text-white shadow-md transition hover:bg-accent-gold focus:outline-none focus:ring-2 focus:ring-vibrant-pink focus:ring-offset-2 focus:ring-offset-slate-900">
                  Subscribe
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="mt-12 border-t border-slate-700 pt-8">
      <p class="font-body text-base text-slate-400 xl:text-center">Â© 2025 The Latina Sweat Project. All rights reserved.</p>
    </div>
  </div>
</footer>

<script>
    // Handles the XplorGrowth form submission.
    if (document.forms['6f1884c5-b7dd-40c6-ad8e-623af0f3a140']) {
        const FormServiceURL = 'https://api.prd.xplorcs.com/forms-v2/forms';
        const formUuid = '6f1884c5-b7dd-40c6-ad8e-623af0f3a140';
        const formContainer = new XplFormContainer(FormServiceURL);
        const loadRecaptcha = (formConfig) => {
            const { template } = formConfig;
            const key = template.use_recaptcha ? template.recaptcha_key : null;
            if (key) XplFormAPI.loadRecaptchaScript(key);
        };
        formContainer.load(formUuid).then(loadRecaptcha);
        window.onXplFormLocationChange = (selectElement) => formContainer.load(selectElement.value);
        window.onXplFormSubmit = async (event) => {
            event.preventDefault();
            event.stopPropagation();
            const form = new XplFormAPI(FormServiceURL, event.target, formContainer);
            const recaptchaKey = form.getRecaptchaKey();
            if (recaptchaKey) {
                window.grecaptcha.ready(() => window.grecaptcha.execute(recaptchaKey, { action: 'submit' }).then((recaptchaResponse) => form.submit(recaptchaResponse)));
            } else {
                form.submit();
            }
        };
    }
</script>