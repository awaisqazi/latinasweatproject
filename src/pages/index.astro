---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.astro';
import TestimonialCard from '@/components/TestimonialCard.astro';
import EventCard from '@/components/EventCard.astro';
const base = import.meta.env.BASE_URL;
---

<Layout title="The Latina Sweat Project | Home">
  <Header />
  <main>
    {/* START: Hero Section */}
    <section class="relative h-[60vh] min-h-[480px] w-full sm:h-screen">
      <div class="absolute inset-0 bg-black/50"></div>
      
      <video autoplay loop muted playsinline class="hidden h-full w-full object-cover sm:block">
        <source src="https://videos.pexels.com/video-files/8040224/8040224-hd_1920_1080_25fps.mp4" type="video/mp4"/>
      </video>
      
      <div class="sm:hidden h-full w-full bg-cover bg-center" style='background-image: url("https://images.pexels.com/photos/4753997/pexels-photo-4753997.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2");'></div>
      
      <div class="absolute inset-0 flex flex-col items-center justify-center p-4 text-center text-white">
        <h1 class="font-sans text-4xl font-extrabold tracking-tighter sm:text-5xl md:text-6xl lg:text-7xl">
          Empowering Through Movement
        </h1>
        <p class="mt-4 max-w-2xl font-body text-lg sm:text-xl">
          Join our vibrant community in Chicago and experience fitness that celebrates our culture.
        </p>
        <a href={`${base}classes`} class="btn mt-8 rounded-full bg-vibrant-pink px-8 py-3 text-base font-bold text-white shadow-lg transition hover:scale-105 hover:bg-accent-gold focus:outline-none focus:ring-2 focus:ring-vibrant-pink focus:ring-offset-2 focus:ring-offset-slate-900">
          Join a Class
        </a>
      </div>
    </section>
    {/* END: Hero Section */}

    {/*
    START: Testimonials Section
    <section class="bg-light-gray py-12 sm:py-16 lg:py-20">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <h2 class="font-sans text-3xl font-bold tracking-tight text-center text-off-black sm:text-4xl">
          What Our Community Says
        </h2>
        <div class="mt-10 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3 lg:gap-12">
          <TestimonialCard imageSrc="https://images.pexels.com/photos/3775131/pexels-photo-3775131.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" quote="This community has transformed my fitness journey. I feel stronger and more connected than ever." author="Ana S." />
          <TestimonialCard imageSrc="https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" quote="The classes are challenging yet fun, and the instructors are incredibly supportive." author="Maria G." />
          <TestimonialCard imageSrc="https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" quote="I love the energy and the sense of belonging. It's more than just a workout; it's a family." author="Sofia R." />
        </div>
      </div>
    </section>
    END: Testimonials Section
    */}

    {/* START: Grand Opening Section */}
    <section class="py-12 sm:py-16 lg:py-20">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 items-center gap-12 lg:grid-cols-2 lg:gap-24">
          <div class="order-last lg:order-first">
            <p class="font-sans text-base font-semibold uppercase tracking-wider text-vibrant-pink">Big News!</p>
            <h2 class="mt-2 font-sans text-3xl font-bold tracking-tight text-off-black sm:text-4xl">Grand Opening Celebration</h2>
            <div class="mt-6 space-y-4 font-body text-lg text-medium-gray">
              <p>Get ready to be part of something extraordinary at Latina Sweat Project!</p>
              <p>We’re counting down to the grand opening of our new studio and we want you to be part of the journey from the very beginning! Experience the energy, meet our growing teaching team, and see firsthand what makes LSP more than just a place to move. We are a community, a safe space, and a celebration of wellness in our neighborhoods.</p>
              <p>Join us, bring a friend, and let’s make our first memories in this space together before we officially open our doors!</p>
            </div>
            <div class="mt-8 text-center">
              <p class="font-sans text-2xl font-bold tracking-tight text-off-black">Join Us on September 20th</p>
              <div id="countdown-container" class="mt-4 flex items-start justify-center gap-3 sm:gap-4">
                <div class="countdown-unit">
                  <div class="flipper" data-unit="days">
                    <div class="number top">00</div>
                    <div class="number bottom">00</div>
                  </div>
                  <p class="mt-2 text-center font-sans text-xs font-semibold uppercase tracking-wider text-medium-gray">Days</p>
                </div>
                <div class="countdown-unit">
                  <div class="flipper" data-unit="hours">
                    <div class="number top">00</div>
                    <div class="number bottom">00</div>
                  </div>
                  <p class="mt-2 text-center font-sans text-xs font-semibold uppercase tracking-wider text-medium-gray">Hours</p>
                </div>
                <div class="countdown-unit">
                  <div class="flipper" data-unit="minutes">
                    <div class="number top">00</div>
                    <div class="number bottom">00</div>
                  </div>
                  <p class="mt-2 text-center font-sans text-xs font-semibold uppercase tracking-wider text-medium-gray">Minutes</p>
                </div>
                <div class="countdown-unit">
                  <div class="flipper" data-unit="seconds">
                    <div class="number top">00</div>
                    <div class="number bottom">00</div>
                  </div>
                  <p class="mt-2 text-center font-sans text-xs font-semibold uppercase tracking-wider text-medium-gray">Seconds</p>
                </div>
              </div>
            </div>
          </div>
          <div class="w-full overflow-hidden rounded-lg shadow-xl">
            <img src="https://images.pexels.com/photos/866027/pexels-photo-866027.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="A vibrant and welcoming fitness studio space with colorful lights." class="h-full w-full object-cover" />
          </div>
        </div>
      </div>
    </section>
    {/* END: Grand Opening Section */}

    {/* 
    START: Upcoming Events Section
    <section class="py-12 sm:py-16 lg:py-20">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <h2 class="font-sans text-3xl font-bold tracking-tight text-center text-off-black sm:text-4xl">
          Upcoming Events
        </h2>
        <div class="mt-10 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
          <EventCard
            href="/events/zumba-fiesta"
            imageSrc="https://images.pexels.com/photos/3775540/pexels-photo-3775540.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
            date="SEPTEMBER 20, 2025"
            title="Zumba Fiesta"
            description="Join us for a high-energy Zumba class with a live DJ."
          />
          <EventCard
            href="/events/salsa-sweat"
            imageSrc="https://images.pexels.com/photos/2775273/pexels-photo-2775273.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
            date="OCTOBER 5, 2025"
            title="Salsa & Sweat"
            description="Combine the rhythm of salsa with a challenging workout."
          />
          <EventCard
            href="/events/barre-bootcamp"
            imageSrc="https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
            date="OCTOBER 21, 2025"
            title="Barre Bootcamp"
            description="Sculpt and tone your body with our signature barre class."
          />
        </div>
      </div>
    </section>
    END: Upcoming Events Section
    */}

    {/* START: Instagram Section */}
    <section class="bg-light-gray py-12 sm:py-16 lg:py-20">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="mx-auto max-w-2xl text-center">
                <h2 class="font-sans text-3xl font-bold tracking-tight text-off-black sm:text-4xl">Join Our Community Online</h2>
                <p class="mt-4 font-body text-lg text-medium-gray">
                    See our community in action! Follow us on Instagram for daily inspiration, class updates, and behind-the-scenes moments that celebrate our culture and movement.
                </p>
                <div class="mt-8">
                    <a href="https://www.instagram.com/latinasweatproject/" class="btn inline-flex items-center gap-2 rounded-full bg-vibrant-pink px-8 py-3 text-base font-bold text-white shadow-lg transition hover:scale-105 hover:bg-accent-gold focus:outline-none focus:ring-2 focus:ring-vibrant-pink focus:ring-offset-2 focus:ring-offset-slate-900">
                        <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 012.792 2.792c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-2.792 2.792c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-2.792-2.792c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 012.792-2.792c.636.247 1.363.416 2.427.465C9.53 2.013 9.884 2 12.315 2zM12 7a5 5 0 100 10 5 5 0 000-10zm0 8a3 3 0 110-6 3 3 0 010 6zm6.406-11.845a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z" clip-rule="evenodd"></path></svg>
                        Follow @LatinaSweatProject
                    </a>
                </div>
            </div>
        </div>
    </section>
    {/* END: Instagram Section */}

  </main>
</Layout>

<script>
  const targetDate = new Date('2025-09-20T10:00:00-05:00').getTime();

  const flip = (flipper, newNumber) => {
    const top = flipper.querySelector('.top');
    const bottom = flipper.querySelector('.bottom');
    const currentNumber = parseInt(top.textContent, 10);

    if (newNumber === currentNumber) return;

    const flipCard = document.createElement('div');
    flipCard.className = 'flip-card';
    flipCard.innerHTML = `<div class="next-number">${String(newNumber).padStart(2, '0')}</div>${String(currentNumber).padStart(2, '0')}`;
    
    flipper.appendChild(flipCard);
    top.textContent = String(newNumber).padStart(2, '0');

    flipCard.classList.add('flipping');

    flipCard.addEventListener('animationend', () => {
      bottom.textContent = String(newNumber).padStart(2, '0');
      flipCard.remove();
    }, { once: true });
  };

  const countdownInterval = setInterval(() => {
    const now = new Date().getTime();
    const distance = targetDate - now;

    if (distance < 0) {
      clearInterval(countdownInterval);
      document.getElementById('countdown-container').innerHTML = '<p class="font-sans text-2xl font-bold text-vibrant-pink text-center w-full">The celebration has begun!</p>';
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    flip(document.querySelector('[data-unit="days"]'), days);
    flip(document.querySelector('[data-unit="hours"]'), hours);
    flip(document.querySelector('[data-unit="minutes"]'), minutes);
    flip(document.querySelector('[data-unit="seconds"]'), seconds);
  }, 1000);
</script>