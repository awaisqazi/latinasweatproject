---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.astro';
---

<Layout title="Contact Us | The Latina Sweat Project">
  <Header />
  <main>
    {/* START: Page Header Section */}
    <section class="py-16 sm:py-24">
      <div class="mx-auto max-w-7xl px-4 text-center sm:px-6 lg:px-8">
        <h1 class="font-sans text-4xl font-extrabold tracking-tighter text-off-black sm:text-5xl">
          Get in Touch
        </h1>
        <p class="mx-auto mt-4 max-w-2xl font-body text-lg text-medium-gray">
          We're here to help and answer any question you might have. We look forward to hearing from you!
        </p>
      </div>
    </section>
    {/* END: Page Header Section */}

    {/* START: Contact Form & Details Section */}
    <section class="bg-light-gray py-16 sm:py-24">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 gap-12 lg:grid-cols-2 lg:gap-16">
          
          {/* Form Column */}
          <div class="flex flex-col justify-center">
            <h2 class="font-sans text-3xl font-bold tracking-tight text-off-black sm:text-4xl">
              Contact Us
            </h2>
            
            <form method="post" action="https://api.prd.xplorcs.com/forms-v2/forms/answers" onsubmit="onXplFormSubmit(event)" name="8189caeb-de28-43fc-8cf7-858529bcf767" id="bb_form" class="mt-8 space-y-6">
              <div id="alert"></div>
              <input type="hidden" name="uuid" id="bb_uuid" value="8189caeb-de28-43fc-8cf7-858529bcf767">
              
              <div class="flex flex-col gap-6 sm:flex-row">
                <div class="w-full">
                  <label for="bb_first_name" class="sr-only">First Name</label>
                  <input type="text" name="first_name" id="bb_first_name" placeholder="First Name" required class="w-full rounded-md border-slate-300 px-4 py-3 font-body text-base text-off-black placeholder-slate-400 focus:border-vibrant-pink focus:ring-vibrant-pink">
                </div>
                <div class="w-full">
                  <label for="bb_last_name" class="sr-only">Last Name</label>
                  <input type="text" name="last_name" id="bb_last_name" placeholder="Last Name" required class="w-full rounded-md border-slate-300 px-4 py-3 font-body text-base text-off-black placeholder-slate-400 focus:border-vibrant-pink focus:ring-vibrant-pink">
                </div>
              </div>

              <div>
                <label for="bb_email" class="sr-only">Email Address</label>
                <input type="email" name="email" id="bb_email" placeholder="Email Address" required class="w-full rounded-md border-slate-300 px-4 py-3 font-body text-base text-off-black placeholder-slate-400 focus:border-vibrant-pink focus:ring-vibrant-pink">
              </div>

              <div>
                <label for="bb_custom_685699" class="sr-only">Please share any questions you have about our classes, events, or community</label>
                <textarea name="custom_685699" id="bb_custom_685699" required rows="5" placeholder="Please share any questions you have about our classes, events, or community" class="w-full rounded-md border-slate-300 px-4 py-3 font-body text-base text-off-black placeholder-slate-400 focus:border-vibrant-pink focus:ring-vibrant-pink"></textarea>
              </div>

              <div class="flex items-start">
                <div class="flex h-5 items-center">
                  <input id="bb_opt_in_email" name="opt_in_email" type="checkbox" value="By selecting this option, you agree to receive marketing communications via email" class="h-4 w-4 rounded border-slate-300 text-vibrant-pink focus:ring-vibrant-pink">
                </div>
                <div class="ml-3 text-sm">
                  <label for="bb_opt_in_email" class="font-body text-medium-gray">By selecting this option, you agree to receive marketing communications via email</label>
                </div>
              </div>

              <div>
                <button type="submit" id="bb_submit" class="w-full rounded-full bg-vibrant-pink px-6 py-3 font-sans text-base font-semibold text-white shadow-md transition hover:bg-accent-gold focus:outline-none focus:ring-2 focus:ring-vibrant-pink focus:ring-offset-2">
                  Send Message
                </button>
              </div>
            </form>
          </div>

          {/* Details & Map Column */}
          <div class="space-y-12">
            <div>
              <h3 class="font-sans text-2xl font-bold text-off-black">Our Studio</h3>
              <div class="mt-4 aspect-video overflow-hidden rounded-lg">
                {/* Replace this with your actual Google Maps embed code */}
                <iframe
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2971.538559329409!2d-87.65322192334067!3d41.859757971243916!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880e2cf90acf593f%3A0xa0f1e37f2dab6535!2s949%20W%2016th%20St%2C%20Chicago%2C%20IL%2060608!5e0!3m2!1sen!2sus!4v1756718147053!5m2!1sen!2sus"
                  width="100%"
                  height="100%"
                  style="border:0;"
                  allowfullscreen=""
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade">
                </iframe>
              </div>
            </div>
            <div class="space-y-8">
              <div>
                <h3 class="font-sans text-2xl font-bold text-off-black">Contact Information</h3>
                <div class="mt-4 space-y-4 font-body text-lg text-medium-gray">
                  <p class="flex items-center gap-3">
                    <svg class="h-6 w-6 flex-shrink-0 text-vibrant-pink" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" /></svg>
                    <span>949 W 16th St, Chicago, IL 60607</span>
                  </p>
                  <p class="flex items-center gap-3">
                    <svg class="h-6 w-6 flex-shrink-0 text-vibrant-pink" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" /></svg>
                    <span>collab@latinasweatproject.com</span>
                  </p>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>
    {/* END: Contact Form & Details Section */}
  </main>
</Layout>

<script>
  // Handles the XplorGrowth contact form submission.
  if (document.forms['8189caeb-de28-43fc-8cf7-858529bcf767']) {
      const FormServiceURL = 'https://api.prd.xplorcs.com/forms-v2/forms';
      const formUuid = '8189caeb-de28-43fc-8cf7-858529bcf767';
      const formContainer = new XplFormContainer(FormServiceURL);
      const loadRecaptcha = (formConfig) => {
          const { template } = formConfig;
          const key = template.use_recaptcha ? template.recaptcha_key : null;
          if (key) XplFormAPI.loadRecaptchaScript(key);
      };
      formContainer.load(formUuid).then(loadRecaptcha);
      window.onXplFormLocationChange = (selectElement) => formContainer.load(selectElement.value);
      window.onXplFormSubmit = async (event) => {
          event.preventDefault();
          event.stopPropagation();
          const form = new XplFormAPI(FormServiceURL, event.target, formContainer);
          const recaptchaKey = form.getRecaptchaKey();
          if (recaptchaKey) {
              window.grecaptcha.ready(() => window.grecaptcha.execute(recaptchaKey, { action: 'submit' }).then((recaptchaResponse) => form.submit(recaptchaResponse)));
          } else {
              form.submit();
          }
      };
  }
</script>